{"ast":null,"code":"import React,{useRef,useEffect,useState}from'react';import styled,{keyframes}from'styled-components';import Webcam from'react-webcam';import io from'socket.io-client';import config from'../config/config';// Keyframe animations\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const pulse=keyframes`\n  0%, 100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n  50% {\n    transform: scale(1.05);\n    opacity: 0.8;\n  }\n`;const borderFlow=keyframes`\n  0% {\n    background-position: 0% 50%;\n  }\n  50% {\n    background-position: 100% 50%;\n  }\n  100% {\n    background-position: 0% 50%;\n  }\n`;const shimmer=keyframes`\n  0% {\n    background-position: -1000px 0;\n  }\n  100% {\n    background-position: 1000px 0;\n  }\n`;const bounce=keyframes`\n  0%, 20%, 50%, 80%, 100% {\n    transform: translateY(0);\n  }\n  40% {\n    transform: translateY(-10px);\n  }\n  60% {\n    transform: translateY(-5px);\n  }\n`;const glow=keyframes`\n  0%, 100% {\n    box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);\n  }\n  50% {\n    box-shadow: 0 0 40px rgba(255, 215, 0, 0.8);\n  }\n`;const ripple=keyframes`\n  0% {\n    transform: scale(0);\n    opacity: 1;\n  }\n  100% {\n    transform: scale(4);\n    opacity: 0;\n  }\n`;// Styled Components\nconst WebcamContainer=styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 2rem;\n  margin: 2rem 0;\n  position: relative;\n`;const VideoContainer=styled.div.withConfig({shouldForwardProp:prop=>!['isAnalyzing'].includes(prop)})`\n  position: relative;\n  border-radius: 20px;\n  overflow: hidden;\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(20px);\n  padding: 4px;\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    border-radius: 20px;\n    background: ${props=>props.isAnalyzing?'linear-gradient(45deg, #FFD700, #FFA500, #FF6B6B, #4CAF50, #667eea, #FFD700)':'linear-gradient(45deg, rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0.1))'};\n    background-size: 400% 400%;\n    animation: ${props=>props.isAnalyzing?borderFlow:'none'} 3s ease infinite;\n    z-index: -1;\n  }\n  \n  box-shadow: ${props=>props.isAnalyzing?'0 20px 60px rgba(255, 215, 0, 0.4)':'0 15px 40px rgba(0, 0, 0, 0.3)'};\n  \n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-5px);\n    box-shadow: 0 25px 80px rgba(0, 0, 0, 0.4);\n  }\n`;const WebcamElement=styled(Webcam)`\n  width: 640px;\n  height: 480px;\n  object-fit: cover;\n  border-radius: 16px;\n  position: relative;\n  z-index: 1;\n  \n  @media (max-width: 768px) {\n    width: 100%;\n    max-width: 480px;\n    height: auto;\n  }\n`;const OverlayIndicators=styled.div`\n  position: absolute;\n  top: 20px;\n  left: 20px;\n  right: 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  z-index: 2;\n  pointer-events: none;\n`;const LiveIndicator=styled.div.withConfig({shouldForwardProp:prop=>!['isLive'].includes(prop)})`\n  background: ${props=>props.isLive?'#FF4444':'rgba(0, 0, 0, 0.6)'};\n  color: white;\n  padding: 0.5rem 1rem;\n  border-radius: 20px;\n  font-size: 0.9rem;\n  font-weight: bold;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  backdrop-filter: blur(10px);\n  \n  .live-dot {\n    width: 8px;\n    height: 8px;\n    background: white;\n    border-radius: 50%;\n    animation: ${props=>props.isLive?pulse:'none'} 1s infinite;\n  }\n`;const QualityIndicator=styled.div`\n  background: rgba(0, 0, 0, 0.6);\n  color: ${props=>{if(props.quality==='excellent')return'#4CAF50';if(props.quality==='good')return'#FFD700';return'#FF6B6B';}};\n  padding: 0.5rem 1rem;\n  border-radius: 20px;\n  font-size: 0.9rem;\n  font-weight: bold;\n  backdrop-filter: blur(10px);\n`;const ControlsContainer=styled.div`\n  display: flex;\n  gap: 1.5rem;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n`;const ControlButton=styled.button`\n  position: relative;\n  padding: 1.2rem 2.5rem;\n  border: none;\n  border-radius: 50px;\n  background: ${props=>{if(props.variant==='start')return'linear-gradient(45deg, #4CAF50, #45a049)';if(props.variant==='stop')return'linear-gradient(45deg, #f44336, #d32f2f)';return'linear-gradient(45deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1))';}};\n  color: white;\n  font-family: 'Poppins', sans-serif;\n  font-weight: 600;\n  font-size: 1.1rem;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  backdrop-filter: blur(20px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  overflow: hidden;\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n    transition: left 0.6s ease;\n  }\n  \n  &:hover::before {\n    left: 100%;\n  }\n  \n  &:hover {\n    transform: translateY(-3px) scale(1.05);\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n  }\n  \n  &:active {\n    transform: translateY(-1px) scale(1.02);\n  }\n  \n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: none;\n    \n    &:hover {\n      transform: none;\n      box-shadow: none;\n    }\n  }\n  \n  .ripple {\n    position: absolute;\n    border-radius: 50%;\n    background: rgba(255, 255, 255, 0.6);\n    transform: scale(0);\n    animation: ${ripple} 0.6s linear;\n    pointer-events: none;\n  }\n`;const StatusContainer=styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 1.5rem;\n  padding: 2rem;\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(25px);\n  border-radius: 20px;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  min-width: 350px;\n  position: relative;\n  overflow: hidden;\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: -2px;\n    left: -2px;\n    right: -2px;\n    bottom: -2px;\n    background: linear-gradient(45deg, #FFD700, transparent, #4CAF50, transparent);\n    z-index: -1;\n    border-radius: 20px;\n    animation: ${borderFlow} 4s ease infinite;\n  }\n  \n  @media (max-width: 768px) {\n    min-width: 300px;\n    padding: 1.5rem;\n  }\n`;const StatusIndicator=styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  font-size: 1.2rem;\n  font-weight: 600;\n  color: white;\n  \n  .status-dot {\n    width: 14px;\n    height: 14px;\n    border-radius: 50%;\n    background: ${props=>{if(props.status==='analyzing')return'#FFD700';if(props.status==='connected')return'#4CAF50';return'#f44336';}};\n    animation: ${props=>props.status==='analyzing'?pulse:'none'} 1.5s infinite;\n    box-shadow: 0 0 10px ${props=>{if(props.status==='analyzing')return'rgba(255, 215, 0, 0.6)';if(props.status==='connected')return'rgba(76, 175, 80, 0.6)';return'rgba(244, 67, 54, 0.6)';}};\n  }\n`;const ScoreDisplay=styled.div`\n  text-align: center;\n  padding: 1.5rem;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 15px;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  \n  .score-label {\n    font-size: 1rem;\n    color: #B0B0B0;\n    margin-bottom: 0.5rem;\n  }\n  \n  .score-value {\n    font-size: 2.5rem;\n    font-weight: 900;\n    font-family: 'Poppins', sans-serif;\n    color: ${props=>{const score=props.score||0;if(score>=80)return'#4CAF50';if(score>=60)return'#FFD700';return'#FF6B6B';}};\n    text-shadow: 0 0 10px ${props=>{const score=props.score||0;if(score>=80)return'rgba(76, 175, 80, 0.3)';if(score>=60)return'rgba(255, 215, 0, 0.3)';return'rgba(255, 107, 107, 0.3)';}};\n    animation: ${glow} 2s ease-in-out infinite;\n  }\n`;const FeedbackContainer=styled.div`\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(15px);\n  border-radius: 15px;\n  padding: 1.5rem;\n  margin-top: 1rem;\n  text-align: left;\n  max-width: 600px;\n  border: 1px solid rgba(255, 255, 255, 0.15);\n  \n  h4 {\n    font-size: 1.2rem;\n    color: #FFD700;\n    margin-bottom: 1rem;\n    font-family: 'Poppins', sans-serif;\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n  }\n`;const FeedbackItem=styled.div`\n  padding: 0.75rem 0;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  display: flex;\n  align-items: flex-start;\n  gap: 0.75rem;\n  \n  &:last-child {\n    border-bottom: none;\n  }\n  \n  .feedback-icon {\n    font-size: 1.2rem;\n    margin-top: 0.1rem;\n    animation: ${bounce} 2s infinite;\n  }\n  \n  .feedback-content {\n    flex: 1;\n  }\n  \n  .feedback-type {\n    font-weight: bold;\n    color: ${props=>props.isGood?'#4CAF50':'#FF6B6B'};\n    margin-bottom: 0.25rem;\n    font-size: 1rem;\n  }\n  \n  .feedback-text {\n    color: #D0D0D0;\n    line-height: 1.5;\n    font-size: 0.95rem;\n  }\n`;const AnalysisStats=styled.div`\n  display: flex;\n  justify-content: space-around;\n  margin-top: 1rem;\n  padding: 1rem;\n  background: rgba(0, 0, 0, 0.2);\n  border-radius: 10px;\n  \n  .stat-item {\n    text-align: center;\n    \n    .stat-value {\n      font-size: 1.2rem;\n      font-weight: bold;\n      color: #FFD700;\n    }\n    \n    .stat-label {\n      font-size: 0.8rem;\n      color: #B0B0B0;\n      margin-top: 0.25rem;\n    }\n  }\n`;const WebcamCapture=_ref=>{var _currentFeedback$issu;let{analysisType,onAnalysisComplete}=_ref;const webcamRef=useRef(null);const socketRef=useRef(null);const[isAnalyzing,setIsAnalyzing]=useState(false);const[isConnected,setIsConnected]=useState(false);const[currentFeedback,setCurrentFeedback]=useState(null);const[analysisInterval,setAnalysisInterval]=useState(null);const[currentScore,setCurrentScore]=useState(0);const[analysisCount,setAnalysisCount]=useState(0);const[avgScore,setAvgScore]=useState(0);const[connectionQuality,setConnectionQuality]=useState('good');useEffect(()=>{// Initialize socket connection\nsocketRef.current=io(config.SOCKET_URL);socketRef.current.on('connect',()=>{setIsConnected(true);console.log('Connected to server');});socketRef.current.on('disconnect',()=>{setIsConnected(false);console.log('Disconnected from server');});socketRef.current.on('analysis-result',data=>{if(data.result&&data.result.analysis){const analysis=data.result.analysis;setCurrentFeedback(analysis);setCurrentScore(analysis.score||0);// Update analysis statistics\nsetAnalysisCount(prev=>{const newCount=prev+1;const newAvg=Math.round((avgScore*prev+(analysis.score||0))/newCount);setAvgScore(newAvg);return newCount;});onAnalysisComplete(data.result);}});socketRef.current.on('analysis-error',error=>{console.error('Analysis error:',error);});return()=>{if(socketRef.current){socketRef.current.disconnect();}if(analysisInterval){clearInterval(analysisInterval);}};},[onAnalysisComplete]);const captureFrame=()=>{if(webcamRef.current&&isConnected){const imageSrc=webcamRef.current.getScreenshot();if(imageSrc){socketRef.current.emit('analyze-frame',{imageData:imageSrc,analysisType:analysisType});}}};const addRippleEffect=event=>{const button=event.currentTarget;const rect=button.getBoundingClientRect();const ripple=document.createElement('span');const size=Math.max(rect.width,rect.height);const x=event.clientX-rect.left-size/2;const y=event.clientY-rect.top-size/2;ripple.className='ripple';ripple.style.cssText=`\n      width: ${size}px;\n      height: ${size}px;\n      left: ${x}px;\n      top: ${y}px;\n    `;button.appendChild(ripple);setTimeout(()=>{ripple.remove();},600);};const startAnalysis=event=>{if(!isConnected){alert('Not connected to server. Please wait and try again.');return;}addRippleEffect(event);setIsAnalyzing(true);setCurrentFeedback(null);setAnalysisCount(0);setAvgScore(0);// Capture frame immediately\ncaptureFrame();// Set up interval for continuous analysis\nconst interval=setInterval(captureFrame,config.ANALYSIS_INTERVAL);setAnalysisInterval(interval);};const stopAnalysis=event=>{addRippleEffect(event);setIsAnalyzing(false);if(analysisInterval){clearInterval(analysisInterval);setAnalysisInterval(null);}};const getStatusText=()=>{if(!isConnected)return'Connecting to server...';if(isAnalyzing)return'Analyzing posture...';return'Ready to analyze';};const getStatusType=()=>{if(!isConnected)return'disconnected';if(isAnalyzing)return'analyzing';return'connected';};return/*#__PURE__*/_jsxs(WebcamContainer,{className:\"fade-in\",children:[/*#__PURE__*/_jsxs(VideoContainer,{isAnalyzing:isAnalyzing,children:[/*#__PURE__*/_jsxs(OverlayIndicators,{children:[/*#__PURE__*/_jsxs(LiveIndicator,{isLive:isAnalyzing,children:[/*#__PURE__*/_jsx(\"div\",{className:\"live-dot\"}),isAnalyzing?'LIVE':'STANDBY']}),/*#__PURE__*/_jsx(QualityIndicator,{quality:connectionQuality,children:connectionQuality.toUpperCase()})]}),/*#__PURE__*/_jsx(WebcamElement,{ref:webcamRef,screenshotFormat:\"image/jpeg\",screenshotQuality:0.8,mirrored:true})]}),/*#__PURE__*/_jsxs(ControlsContainer,{children:[/*#__PURE__*/_jsx(ControlButton,{variant:\"start\",onClick:startAnalysis,disabled:!isConnected||isAnalyzing,children:isAnalyzing?'⏸️ Analyzing...':'🚀 Start Analysis'}),/*#__PURE__*/_jsx(ControlButton,{variant:\"stop\",onClick:stopAnalysis,disabled:!isAnalyzing,children:\"\\u23F9\\uFE0F Stop Analysis\"})]}),/*#__PURE__*/_jsxs(StatusContainer,{children:[/*#__PURE__*/_jsxs(StatusIndicator,{status:getStatusType(),children:[/*#__PURE__*/_jsx(\"div\",{className:\"status-dot\"}),getStatusText()]}),currentFeedback&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(ScoreDisplay,{score:currentScore,children:[/*#__PURE__*/_jsx(\"div\",{className:\"score-label\",children:\"Current Posture Score\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"score-value\",children:[currentScore,\"%\"]})]}),/*#__PURE__*/_jsxs(AnalysisStats,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:analysisCount}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Frames\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-value\",children:[avgScore,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Avg Score\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:((_currentFeedback$issu=currentFeedback.issues)===null||_currentFeedback$issu===void 0?void 0:_currentFeedback$issu.length)||0}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Issues\"})]})]}),/*#__PURE__*/_jsxs(FeedbackContainer,{children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDFAF\"}),\"Real-time Feedback\"]}),currentFeedback.feedback&&currentFeedback.feedback.length>0?currentFeedback.feedback.map((feedback,index)=>/*#__PURE__*/_jsxs(FeedbackItem,{isGood:false,children:[/*#__PURE__*/_jsx(\"div\",{className:\"feedback-icon\",children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"feedback-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"feedback-type\",children:\"Issue Detected\"}),/*#__PURE__*/_jsx(\"div\",{className:\"feedback-text\",children:feedback})]})]},index)):/*#__PURE__*/_jsxs(FeedbackItem,{isGood:true,children:[/*#__PURE__*/_jsx(\"div\",{className:\"feedback-icon\",children:\"\\u2705\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"feedback-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"feedback-type\",children:\"Excellent Posture!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"feedback-text\",children:\"Your posture looks great! Keep it up!\"})]})]})]})]})]})]});};export default WebcamCapture;","map":{"version":3,"names":["React","useRef","useEffect","useState","styled","keyframes","Webcam","io","config","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","pulse","borderFlow","shimmer","bounce","glow","ripple","WebcamContainer","div","VideoContainer","withConfig","shouldForwardProp","prop","includes","props","isAnalyzing","WebcamElement","OverlayIndicators","LiveIndicator","isLive","QualityIndicator","quality","ControlsContainer","ControlButton","button","variant","StatusContainer","StatusIndicator","status","ScoreDisplay","score","FeedbackContainer","FeedbackItem","isGood","AnalysisStats","WebcamCapture","_ref","_currentFeedback$issu","analysisType","onAnalysisComplete","webcamRef","socketRef","setIsAnalyzing","isConnected","setIsConnected","currentFeedback","setCurrentFeedback","analysisInterval","setAnalysisInterval","currentScore","setCurrentScore","analysisCount","setAnalysisCount","avgScore","setAvgScore","connectionQuality","setConnectionQuality","current","SOCKET_URL","on","console","log","data","result","analysis","prev","newCount","newAvg","Math","round","error","disconnect","clearInterval","captureFrame","imageSrc","getScreenshot","emit","imageData","addRippleEffect","event","currentTarget","rect","getBoundingClientRect","document","createElement","size","max","width","height","x","clientX","left","y","clientY","top","className","style","cssText","appendChild","setTimeout","remove","startAnalysis","alert","interval","setInterval","ANALYSIS_INTERVAL","stopAnalysis","getStatusText","getStatusType","children","toUpperCase","ref","screenshotFormat","screenshotQuality","mirrored","onClick","disabled","issues","length","feedback","map","index"],"sources":["D:/Projects_new/Posture_detection/client/src/components/WebcamCapture.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\nimport styled, { keyframes } from 'styled-components';\r\nimport Webcam from 'react-webcam';\r\nimport io from 'socket.io-client';\r\nimport config from '../config/config';\r\n\r\n// Keyframe animations\r\nconst pulse = keyframes`\r\n  0%, 100% {\r\n    transform: scale(1);\r\n    opacity: 1;\r\n  }\r\n  50% {\r\n    transform: scale(1.05);\r\n    opacity: 0.8;\r\n  }\r\n`;\r\n\r\nconst borderFlow = keyframes`\r\n  0% {\r\n    background-position: 0% 50%;\r\n  }\r\n  50% {\r\n    background-position: 100% 50%;\r\n  }\r\n  100% {\r\n    background-position: 0% 50%;\r\n  }\r\n`;\r\n\r\nconst shimmer = keyframes`\r\n  0% {\r\n    background-position: -1000px 0;\r\n  }\r\n  100% {\r\n    background-position: 1000px 0;\r\n  }\r\n`;\r\n\r\nconst bounce = keyframes`\r\n  0%, 20%, 50%, 80%, 100% {\r\n    transform: translateY(0);\r\n  }\r\n  40% {\r\n    transform: translateY(-10px);\r\n  }\r\n  60% {\r\n    transform: translateY(-5px);\r\n  }\r\n`;\r\n\r\nconst glow = keyframes`\r\n  0%, 100% {\r\n    box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);\r\n  }\r\n  50% {\r\n    box-shadow: 0 0 40px rgba(255, 215, 0, 0.8);\r\n  }\r\n`;\r\n\r\nconst ripple = keyframes`\r\n  0% {\r\n    transform: scale(0);\r\n    opacity: 1;\r\n  }\r\n  100% {\r\n    transform: scale(4);\r\n    opacity: 0;\r\n  }\r\n`;\r\n\r\n// Styled Components\r\nconst WebcamContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 2rem;\r\n  margin: 2rem 0;\r\n  position: relative;\r\n`;\r\n\r\nconst VideoContainer = styled.div.withConfig({\r\n  shouldForwardProp: (prop) => !['isAnalyzing'].includes(prop),\r\n})`\r\n  position: relative;\r\n  border-radius: 20px;\r\n  overflow: hidden;\r\n  background: rgba(255, 255, 255, 0.1);\r\n  backdrop-filter: blur(20px);\r\n  padding: 4px;\r\n  \r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    border-radius: 20px;\r\n    background: ${props => props.isAnalyzing \r\n      ? 'linear-gradient(45deg, #FFD700, #FFA500, #FF6B6B, #4CAF50, #667eea, #FFD700)'\r\n      : 'linear-gradient(45deg, rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0.1))'\r\n    };\r\n    background-size: 400% 400%;\r\n    animation: ${props => props.isAnalyzing ? borderFlow : 'none'} 3s ease infinite;\r\n    z-index: -1;\r\n  }\r\n  \r\n  box-shadow: ${props => props.isAnalyzing \r\n    ? '0 20px 60px rgba(255, 215, 0, 0.4)'\r\n    : '0 15px 40px rgba(0, 0, 0, 0.3)'\r\n  };\r\n  \r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    transform: translateY(-5px);\r\n    box-shadow: 0 25px 80px rgba(0, 0, 0, 0.4);\r\n  }\r\n`;\r\n\r\nconst WebcamElement = styled(Webcam)`\r\n  width: 640px;\r\n  height: 480px;\r\n  object-fit: cover;\r\n  border-radius: 16px;\r\n  position: relative;\r\n  z-index: 1;\r\n  \r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n    max-width: 480px;\r\n    height: auto;\r\n  }\r\n`;\r\n\r\nconst OverlayIndicators = styled.div`\r\n  position: absolute;\r\n  top: 20px;\r\n  left: 20px;\r\n  right: 20px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  z-index: 2;\r\n  pointer-events: none;\r\n`;\r\n\r\nconst LiveIndicator = styled.div.withConfig({\r\n  shouldForwardProp: (prop) => !['isLive'].includes(prop),\r\n})`\r\n  background: ${props => props.isLive ? '#FF4444' : 'rgba(0, 0, 0, 0.6)'};\r\n  color: white;\r\n  padding: 0.5rem 1rem;\r\n  border-radius: 20px;\r\n  font-size: 0.9rem;\r\n  font-weight: bold;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  backdrop-filter: blur(10px);\r\n  \r\n  .live-dot {\r\n    width: 8px;\r\n    height: 8px;\r\n    background: white;\r\n    border-radius: 50%;\r\n    animation: ${props => props.isLive ? pulse : 'none'} 1s infinite;\r\n  }\r\n`;\r\n\r\nconst QualityIndicator = styled.div`\r\n  background: rgba(0, 0, 0, 0.6);\r\n  color: ${props => {\r\n    if (props.quality === 'excellent') return '#4CAF50';\r\n    if (props.quality === 'good') return '#FFD700';\r\n    return '#FF6B6B';\r\n  }};\r\n  padding: 0.5rem 1rem;\r\n  border-radius: 20px;\r\n  font-size: 0.9rem;\r\n  font-weight: bold;\r\n  backdrop-filter: blur(10px);\r\n`;\r\n\r\nconst ControlsContainer = styled.div`\r\n  display: flex;\r\n  gap: 1.5rem;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst ControlButton = styled.button`\r\n  position: relative;\r\n  padding: 1.2rem 2.5rem;\r\n  border: none;\r\n  border-radius: 50px;\r\n  background: ${props => {\r\n    if (props.variant === 'start') return 'linear-gradient(45deg, #4CAF50, #45a049)';\r\n    if (props.variant === 'stop') return 'linear-gradient(45deg, #f44336, #d32f2f)';\r\n    return 'linear-gradient(45deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1))';\r\n  }};\r\n  color: white;\r\n  font-family: 'Poppins', sans-serif;\r\n  font-weight: 600;\r\n  font-size: 1.1rem;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  backdrop-filter: blur(20px);\r\n  border: 1px solid rgba(255, 255, 255, 0.2);\r\n  overflow: hidden;\r\n  \r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: -100%;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\r\n    transition: left 0.6s ease;\r\n  }\r\n  \r\n  &:hover::before {\r\n    left: 100%;\r\n  }\r\n  \r\n  &:hover {\r\n    transform: translateY(-3px) scale(1.05);\r\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n  }\r\n  \r\n  &:active {\r\n    transform: translateY(-1px) scale(1.02);\r\n  }\r\n  \r\n  &:disabled {\r\n    opacity: 0.6;\r\n    cursor: not-allowed;\r\n    transform: none;\r\n    \r\n    &:hover {\r\n      transform: none;\r\n      box-shadow: none;\r\n    }\r\n  }\r\n  \r\n  .ripple {\r\n    position: absolute;\r\n    border-radius: 50%;\r\n    background: rgba(255, 255, 255, 0.6);\r\n    transform: scale(0);\r\n    animation: ${ripple} 0.6s linear;\r\n    pointer-events: none;\r\n  }\r\n`;\r\n\r\nconst StatusContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 1.5rem;\r\n  padding: 2rem;\r\n  background: rgba(255, 255, 255, 0.1);\r\n  backdrop-filter: blur(25px);\r\n  border-radius: 20px;\r\n  border: 1px solid rgba(255, 255, 255, 0.2);\r\n  min-width: 350px;\r\n  position: relative;\r\n  overflow: hidden;\r\n  \r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: -2px;\r\n    left: -2px;\r\n    right: -2px;\r\n    bottom: -2px;\r\n    background: linear-gradient(45deg, #FFD700, transparent, #4CAF50, transparent);\r\n    z-index: -1;\r\n    border-radius: 20px;\r\n    animation: ${borderFlow} 4s ease infinite;\r\n  }\r\n  \r\n  @media (max-width: 768px) {\r\n    min-width: 300px;\r\n    padding: 1.5rem;\r\n  }\r\n`;\r\n\r\nconst StatusIndicator = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.75rem;\r\n  font-size: 1.2rem;\r\n  font-weight: 600;\r\n  color: white;\r\n  \r\n  .status-dot {\r\n    width: 14px;\r\n    height: 14px;\r\n    border-radius: 50%;\r\n    background: ${props => {\r\n      if (props.status === 'analyzing') return '#FFD700';\r\n      if (props.status === 'connected') return '#4CAF50';\r\n      return '#f44336';\r\n    }};\r\n    animation: ${props => props.status === 'analyzing' ? pulse : 'none'} 1.5s infinite;\r\n    box-shadow: 0 0 10px ${props => {\r\n      if (props.status === 'analyzing') return 'rgba(255, 215, 0, 0.6)';\r\n      if (props.status === 'connected') return 'rgba(76, 175, 80, 0.6)';\r\n      return 'rgba(244, 67, 54, 0.6)';\r\n    }};\r\n  }\r\n`;\r\n\r\nconst ScoreDisplay = styled.div`\r\n  text-align: center;\r\n  padding: 1.5rem;\r\n  background: rgba(255, 255, 255, 0.05);\r\n  border-radius: 15px;\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n  \r\n  .score-label {\r\n    font-size: 1rem;\r\n    color: #B0B0B0;\r\n    margin-bottom: 0.5rem;\r\n  }\r\n  \r\n  .score-value {\r\n    font-size: 2.5rem;\r\n    font-weight: 900;\r\n    font-family: 'Poppins', sans-serif;\r\n    color: ${props => {\r\n      const score = props.score || 0;\r\n      if (score >= 80) return '#4CAF50';\r\n      if (score >= 60) return '#FFD700';\r\n      return '#FF6B6B';\r\n    }};\r\n    text-shadow: 0 0 10px ${props => {\r\n      const score = props.score || 0;\r\n      if (score >= 80) return 'rgba(76, 175, 80, 0.3)';\r\n      if (score >= 60) return 'rgba(255, 215, 0, 0.3)';\r\n      return 'rgba(255, 107, 107, 0.3)';\r\n    }};\r\n    animation: ${glow} 2s ease-in-out infinite;\r\n  }\r\n`;\r\n\r\nconst FeedbackContainer = styled.div`\r\n  background: rgba(255, 255, 255, 0.1);\r\n  backdrop-filter: blur(15px);\r\n  border-radius: 15px;\r\n  padding: 1.5rem;\r\n  margin-top: 1rem;\r\n  text-align: left;\r\n  max-width: 600px;\r\n  border: 1px solid rgba(255, 255, 255, 0.15);\r\n  \r\n  h4 {\r\n    font-size: 1.2rem;\r\n    color: #FFD700;\r\n    margin-bottom: 1rem;\r\n    font-family: 'Poppins', sans-serif;\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 0.5rem;\r\n  }\r\n`;\r\n\r\nconst FeedbackItem = styled.div`\r\n  padding: 0.75rem 0;\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: 0.75rem;\r\n  \r\n  &:last-child {\r\n    border-bottom: none;\r\n  }\r\n  \r\n  .feedback-icon {\r\n    font-size: 1.2rem;\r\n    margin-top: 0.1rem;\r\n    animation: ${bounce} 2s infinite;\r\n  }\r\n  \r\n  .feedback-content {\r\n    flex: 1;\r\n  }\r\n  \r\n  .feedback-type {\r\n    font-weight: bold;\r\n    color: ${props => props.isGood ? '#4CAF50' : '#FF6B6B'};\r\n    margin-bottom: 0.25rem;\r\n    font-size: 1rem;\r\n  }\r\n  \r\n  .feedback-text {\r\n    color: #D0D0D0;\r\n    line-height: 1.5;\r\n    font-size: 0.95rem;\r\n  }\r\n`;\r\n\r\nconst AnalysisStats = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  margin-top: 1rem;\r\n  padding: 1rem;\r\n  background: rgba(0, 0, 0, 0.2);\r\n  border-radius: 10px;\r\n  \r\n  .stat-item {\r\n    text-align: center;\r\n    \r\n    .stat-value {\r\n      font-size: 1.2rem;\r\n      font-weight: bold;\r\n      color: #FFD700;\r\n    }\r\n    \r\n    .stat-label {\r\n      font-size: 0.8rem;\r\n      color: #B0B0B0;\r\n      margin-top: 0.25rem;\r\n    }\r\n  }\r\n`;\r\n\r\nconst WebcamCapture = ({ analysisType, onAnalysisComplete }) => {\r\n  const webcamRef = useRef(null);\r\n  const socketRef = useRef(null);\r\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\r\n  const [isConnected, setIsConnected] = useState(false);\r\n  const [currentFeedback, setCurrentFeedback] = useState(null);\r\n  const [analysisInterval, setAnalysisInterval] = useState(null);\r\n  const [currentScore, setCurrentScore] = useState(0);\r\n  const [analysisCount, setAnalysisCount] = useState(0);\r\n  const [avgScore, setAvgScore] = useState(0);\r\n  const [connectionQuality, setConnectionQuality] = useState('good');\r\n  useEffect(() => {\r\n    // Initialize socket connection\r\n    socketRef.current = io(config.SOCKET_URL);\r\n    \r\n    socketRef.current.on('connect', () => {\r\n      setIsConnected(true);\r\n      console.log('Connected to server');\r\n    });\r\n\r\n    socketRef.current.on('disconnect', () => {\r\n      setIsConnected(false);\r\n      console.log('Disconnected from server');\r\n    });\r\n\r\n    socketRef.current.on('analysis-result', (data) => {\r\n      if (data.result && data.result.analysis) {\r\n        const analysis = data.result.analysis;\r\n        setCurrentFeedback(analysis);\r\n        setCurrentScore(analysis.score || 0);\r\n        \r\n        // Update analysis statistics\r\n        setAnalysisCount(prev => {\r\n          const newCount = prev + 1;\r\n          const newAvg = Math.round(((avgScore * prev) + (analysis.score || 0)) / newCount);\r\n          setAvgScore(newAvg);\r\n          return newCount;\r\n        });\r\n        \r\n        onAnalysisComplete(data.result);\r\n      }\r\n    });\r\n\r\n    socketRef.current.on('analysis-error', (error) => {\r\n      console.error('Analysis error:', error);\r\n    });\r\n\r\n    return () => {\r\n      if (socketRef.current) {\r\n        socketRef.current.disconnect();\r\n      }\r\n      if (analysisInterval) {\r\n        clearInterval(analysisInterval);\r\n      }\r\n    };\r\n  }, [onAnalysisComplete]);\r\n\r\n  const captureFrame = () => {\r\n    if (webcamRef.current && isConnected) {\r\n      const imageSrc = webcamRef.current.getScreenshot();\r\n      if (imageSrc) {\r\n        socketRef.current.emit('analyze-frame', {\r\n          imageData: imageSrc,\r\n          analysisType: analysisType\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const addRippleEffect = (event) => {\r\n    const button = event.currentTarget;\r\n    const rect = button.getBoundingClientRect();\r\n    const ripple = document.createElement('span');\r\n    const size = Math.max(rect.width, rect.height);\r\n    const x = event.clientX - rect.left - size / 2;\r\n    const y = event.clientY - rect.top - size / 2;\r\n    \r\n    ripple.className = 'ripple';\r\n    ripple.style.cssText = `\r\n      width: ${size}px;\r\n      height: ${size}px;\r\n      left: ${x}px;\r\n      top: ${y}px;\r\n    `;\r\n    \r\n    button.appendChild(ripple);\r\n    \r\n    setTimeout(() => {\r\n      ripple.remove();\r\n    }, 600);\r\n  };\r\n\r\n  const startAnalysis = (event) => {\r\n    if (!isConnected) {\r\n      alert('Not connected to server. Please wait and try again.');\r\n      return;\r\n    }\r\n    \r\n    addRippleEffect(event);\r\n    setIsAnalyzing(true);\r\n    setCurrentFeedback(null);\r\n    setAnalysisCount(0);\r\n    setAvgScore(0);\r\n    \r\n    // Capture frame immediately\r\n    captureFrame();\r\n    // Set up interval for continuous analysis\r\n    const interval = setInterval(captureFrame, config.ANALYSIS_INTERVAL);\r\n    setAnalysisInterval(interval);\r\n  };\r\n\r\n  const stopAnalysis = (event) => {\r\n    addRippleEffect(event);\r\n    setIsAnalyzing(false);\r\n    if (analysisInterval) {\r\n      clearInterval(analysisInterval);\r\n      setAnalysisInterval(null);\r\n    }\r\n  };\r\n\r\n  const getStatusText = () => {\r\n    if (!isConnected) return 'Connecting to server...';\r\n    if (isAnalyzing) return 'Analyzing posture...';\r\n    return 'Ready to analyze';\r\n  };\r\n\r\n  const getStatusType = () => {\r\n    if (!isConnected) return 'disconnected';\r\n    if (isAnalyzing) return 'analyzing';\r\n    return 'connected';\r\n  };\r\n\r\n  return (\r\n    <WebcamContainer className=\"fade-in\">\r\n      <VideoContainer isAnalyzing={isAnalyzing}>\r\n        <OverlayIndicators>\r\n          <LiveIndicator isLive={isAnalyzing}>\r\n            <div className=\"live-dot\"></div>\r\n            {isAnalyzing ? 'LIVE' : 'STANDBY'}\r\n          </LiveIndicator>\r\n          <QualityIndicator quality={connectionQuality}>\r\n            {connectionQuality.toUpperCase()}\r\n          </QualityIndicator>\r\n        </OverlayIndicators>\r\n        \r\n        <WebcamElement\r\n          ref={webcamRef}\r\n          screenshotFormat=\"image/jpeg\"\r\n          screenshotQuality={0.8}\r\n          mirrored={true}\r\n        />\r\n      </VideoContainer>\r\n      \r\n      <ControlsContainer>\r\n        <ControlButton\r\n          variant=\"start\"\r\n          onClick={startAnalysis}\r\n          disabled={!isConnected || isAnalyzing}\r\n        >\r\n          {isAnalyzing ? '⏸️ Analyzing...' : '🚀 Start Analysis'}\r\n        </ControlButton>\r\n        \r\n        <ControlButton\r\n          variant=\"stop\"\r\n          onClick={stopAnalysis}\r\n          disabled={!isAnalyzing}\r\n        >\r\n          ⏹️ Stop Analysis\r\n        </ControlButton>\r\n      </ControlsContainer>\r\n\r\n      <StatusContainer>\r\n        <StatusIndicator status={getStatusType()}>\r\n          <div className=\"status-dot\"></div>\r\n          {getStatusText()}\r\n        </StatusIndicator>\r\n        \r\n        {currentFeedback && (\r\n          <>\r\n            <ScoreDisplay score={currentScore}>\r\n              <div className=\"score-label\">Current Posture Score</div>\r\n              <div className=\"score-value\">{currentScore}%</div>\r\n            </ScoreDisplay>\r\n            \r\n            <AnalysisStats>\r\n              <div className=\"stat-item\">\r\n                <div className=\"stat-value\">{analysisCount}</div>\r\n                <div className=\"stat-label\">Frames</div>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <div className=\"stat-value\">{avgScore}%</div>\r\n                <div className=\"stat-label\">Avg Score</div>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <div className=\"stat-value\">{currentFeedback.issues?.length || 0}</div>\r\n                <div className=\"stat-label\">Issues</div>\r\n              </div>\r\n            </AnalysisStats>\r\n            \r\n            <FeedbackContainer>\r\n              <h4>\r\n                <span>🎯</span>\r\n                Real-time Feedback\r\n              </h4>\r\n              \r\n              {currentFeedback.feedback && currentFeedback.feedback.length > 0 ? (\r\n                currentFeedback.feedback.map((feedback, index) => (\r\n                  <FeedbackItem key={index} isGood={false}>\r\n                    <div className=\"feedback-icon\">⚠️</div>\r\n                    <div className=\"feedback-content\">\r\n                      <div className=\"feedback-type\">Issue Detected</div>\r\n                      <div className=\"feedback-text\">{feedback}</div>\r\n                    </div>\r\n                  </FeedbackItem>\r\n                ))\r\n              ) : (\r\n                <FeedbackItem isGood={true}>\r\n                  <div className=\"feedback-icon\">✅</div>\r\n                  <div className=\"feedback-content\">\r\n                    <div className=\"feedback-type\">Excellent Posture!</div>\r\n                    <div className=\"feedback-text\">Your posture looks great! Keep it up!</div>\r\n                  </div>\r\n                </FeedbackItem>\r\n              )}\r\n            </FeedbackContainer>\r\n          </>\r\n        )}\r\n      </StatusContainer>\r\n    </WebcamContainer>\r\n  );\r\n};\r\n\r\nexport default WebcamCapture;\r\n"],"mappings":"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AAO,0CAA0C,CAChF,GAAIX,KAAK,CAACW,OAAO,GAAK,MAAM,CAAE,MAAO,0CAA0C,CAC/E,MAAO,4EAA4E,CACrF,CAAC;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiBnB,MAAM;AACvB;AACA;AACA,CAAC,CAED,KAAM,CAAAoB,eAAe,CAAGpC,MAAM,CAACkB,GAAG;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiBN,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAyB,eAAe,CAAGrC,MAAM,CAACkB,GAAG;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkBM,KAAK,EAAI,CACrB,GAAIA,KAAK,CAACc,MAAM,GAAK,WAAW,CAAE,MAAO,SAAS,CAClD,GAAId,KAAK,CAACc,MAAM,GAAK,WAAW,CAAE,MAAO,SAAS,CAClD,MAAO,SAAS,CAClB,CAAC;AACL,iBAAiBd,KAAK,EAAIA,KAAK,CAACc,MAAM,GAAK,WAAW,CAAG3B,KAAK,CAAG,MAAM;AACvE,2BAA2Ba,KAAK,EAAI,CAC9B,GAAIA,KAAK,CAACc,MAAM,GAAK,WAAW,CAAE,MAAO,wBAAwB,CACjE,GAAId,KAAK,CAACc,MAAM,GAAK,WAAW,CAAE,MAAO,wBAAwB,CACjE,MAAO,wBAAwB,CACjC,CAAC;AACL;AACA,CAAC,CAED,KAAM,CAAAC,YAAY,CAAGvC,MAAM,CAACkB,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}